<!--Header-->
<div class="2xl:mt-5 2xl:mx-7 xl:mx-5 sm:mx-4 mt-10">
    <div class="bg-[#4f75ff] 2xl:rounded-lg rounded-md">
        <a
            class="text-white 2xl:text-lg xl:text-sm flex justify-center items-center 2xl:py-4 xl:py-2 xl:gap-6 gap-3"
        >
            <p>Free Courses ðŸŒŸ Sale Ends Soon, Get It Now</p>
            <img
                src="../assets/icon/Icon.svg"
                alt="icon"
                class="2xl:w-6 2xl:h-6 w-5 h-5"
            />
        </a>
    </div>
    <div class="2xl:mt-5 mt-4 container mx-auto">
        <div class="flex 2xl:pt-5 2xl:pb-6 xl:pt-4 xl:pb-5 py-4 items-center">
            <a href="/">
                <img
                    src="../assets/icon/logo.svg"
                    alt="logo"
                    class="w-10 h-10 bg-[#4f75ff] rounded-lg"
                />
            </a>
            <div class="flex items-center">
                <input
                    type="text"
                    id="search"
                    placeholder="Search your course..."
                    class="block w-[260px] md:w-[380px] lg:w-[430px] h-10 px-4 py-2 text-sm bg-white rounded-[10px] shadow-sm focus:ring-blue-500 focus:border-blue-500 focus:outline-none border-2"
                />
                <button
                    id="search-btn"
                    class="ml-2 bg-blue-500 text-white rounded-full p-2"
                    onclick="searchCourses()"
                >
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <div
                class="hidden lg:flex md:gap-6 lg:gap-4 xl:gap-8 xl:ml-[70px] sm:ml-[50px] lg:ml-4 items-center border-solid border-b-[1px] border-[#F1F1F3]"
            >
                <a
                    href="/courses"
                    class="hover:bg-[#4f75ff] hover:rounded-md hover:text-white 2xl:text-lg text-sm text-[#262626] lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                >Courses</a>
                <a
                    href="/aboutUs"
                    class="hover:bg-[#4f75ff] hover:rounded-md hover:text-white 2xl:text-lg text-sm text-[#262626] lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                >About us</a>
                <a
                    href="/contact"
                    class="hover:bg-[#4f75ff] hover:rounded-md hover:text-white 2xl:text-lg text-sm text-[#262626] lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                >Contact</a>
            </div>
            <div class="flex sm:gap-7 lg:gap-3 gap-5 xl:gap-8 ml-auto">
                <a
                    class="flex justify-between items-center relative"
                    href="/cart"
                >
                    <img
                        src="/assets/icon/cart-icon.svg"
                        alt="Icon Cart"
                        class="w-8 h-8 rounded-lg"
                    />
                    <p
                        id="cart-count"
                        class="absolute top-[2px] right-[-6px] bg-[#4f75ff] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                    >0</p>
                </a>
                {{#if isLoggedIn}}

                    <div class="relative group">
                        <!-- Avatar -->
                        <div
                            class="cursor-pointer lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                        >
                            <a href="/dashboard" class="pb-3">
                                <img
                                    src="assets/icon/Avatar.svg"
                                    alt="avatar"
                                    class="w-8 h-8 rounded-lg"
                                />
                            </a>
                        </div>

                        <!-- Dropdown Menu -->
                        <div
                            class="absolute right-0 mt-0 w-64 bg-white border border-gray-300 rounded-lg shadow-lg hidden group-hover:block z-10"
                        >
                            <!-- User Info -->
                            <div class="px-4 py-3 border-b border-gray-200">
                                <p
                                    class="font-bold text-sm"
                                >{{user.username}}</p>
                                <p
                                    class="text-gray-500 text-sm"
                                >{{user.email}}</p>
                            </div>

                            <!-- Menu Items -->
                            <ul class="text-sm text-gray-700">
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >My learning</li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >
                                    <a
                                        href="/cart"
                                        class="flex justify-between items-center"
                                    >
                                        <span>My Cart</span>
                                        <span
                                            id="cart-count"
                                            class="bg-[#4f75ff] text-white text-xs font-bold px-2 py-1 rounded-full"
                                        >0</span>
                                    </a>
                                </li>
                                 <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >
                                    <a
                                        href="/profile"
                                    >Edit Profile</a>
                                </li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Teach on</li>
                                <hr class="my-1 border-gray-200" />
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Notifications</li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Messages</li>
                                <hr class="my-1 border-gray-200" />
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Account settings</li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Payment methods</li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >Subscriptions</li>
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >
                                    <a
                                        href="/paycourses/payhistory"
                                        class="text-gray-700"
                                    >Purchase history</a>
                                </li>

                                <hr class="my-1 border-gray-200" />
                                <li
                                    class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
                                >
                                    <form
                                        action="/logout"
                                        method="POST"
                                        onsubmit="localStorage.removeItem('cart');"
                                    >
                                        <button type="submit">Logout</button>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                {{else}}
                    <a
                        href="/signup"
                        class="hover:bg-[#4f75ff] hover:rounded-md hover:text-white 2xl:text-lg text-base text-[#262626] lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                    >Sign up</a>

                    <button
                        onclick="window.location.href='/login'"
                        class="bg-[#4f75ff] rounded-md text-white 2xl:text-lg text-base lg:px-3 lg:py-2 px-5 py-3 xl:px-5 xl:py-3"
                    >
                        Login
                    </button>
                    <button class="lg:hidden block" onclick="openNav()">
                        <img
                            src="../assets/icon/Nav_Icon.svg"
                            alt="menu"
                            class="w-8 h-8"
                        />
                    </button>
                {{/if}}
            </div>
        </div>
    </div>
    <div
        id="Sidenav"
        class="sidenav h-1/2 w-0 fixed z-[-1px] top-8 right-0 bg-[#4f75ff] bg-opacity-50 overflow-x-hidden pt-10 transition duration-500 rounded-md"
    >
        <a
            href="javascript:void(0)"
            class="closeNav p-2 absolute top-0 right-6 text-5xl text-white block"
            onclick="closeNav()"
        >&times;</a>
        <a href="#" class="p-2 text-xl text-white mt-3 block">Home</a>
        <a href="/courses" class="p-2 text-xl text-white mt-3 block">Courses</a>
        <a
            href="/aboutUs"
            class="p-2 text-xl text-white mt-3 block"
        >About us</a>
        <a
            href="/contact"
            class="p-2 text-xl text-white mt-3 block"
        >Contact</a>
    </div>
</div>
<!--End Header-->